## 学習 / 作業 時間

3 時間 15 分

## 今日取り組んだこと

- React Learn で復習
  - state について
  - ref について

## 学んだこと・気づいたこと

### state について

- イベントハンドラ内のすべてのコードが実行されるまで、React は state の更新処理を待機します。
- イベントハンドラおよびその中のコードがすべて完了した後まで、UI は更新されない。
  このような動作をバッチ処理という。
- state は読み取り専用として扱う必要がある。書き換えるのではなく置き換える。
  state の中にオブジェクトがある場合、技術的には書き換え可能である。これはミューテーションと呼ぶ。
- state 内に作成したばかりのオブジェクトであれば、ミューテーションしても問題ない。
  理由は、作成したばかりだとどこからも参照されてないから。
  しかし、既存のオブジェクトはミューテーションしてはならない。

### useRef について

- useRef は、コンポーネントが再レンダーされても値が保持され続ける “箱” を作るためのフック。
- React の state と違い、useRef が保持している値を更新してもコンポーネントは再レンダーされない。
- state と同様、文字列、オブジェクト、関数など、何でも扱うことができる。
- state はセットすると再レンダーされるが、ref を変更しても再レンダーがトリガされない。
- ミュータブル - レンダープロセス外で値の変更・更新ができる。
- ref が有用なのは、外部システムやブラウザ API との連携をする場合
- レンダー中に ref.current を読み書きしないこと。レンダー中に情報が欲しい場合、state を使うこと。

## 不明点・課題

- [ ] useRef を使用する場合、「再レンダーされない」とされているが、仮想 DOM との差分の算出は行なわれるのか？
- [ ] 画面描画までのプロセスで、state となにか違うことはあるか？
- [ ] 再レンダーされないのであれば、画面への反映は行なわれない？

## メモ

## 次やること

useRef について詳しく学習していく。

useEffect について学習する。
